<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `diesel_migrations` crate."><meta name="keywords" content="rust, rustlang, rust-lang, diesel_migrations"><title>diesel_migrations - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../diesel_migrations/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><p class="location">Crate diesel_migrations</p><div class="block version"><p>Version 2.0.0</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all diesel_migrations's items</p></a><div class="block items"><ul><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li></ul></div><p class="location"></p><div id="sidebar-vars" data-name="diesel_migrations" data-ty="mod" data-relpath="../"></div></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="">diesel_migrations</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/diesel_migrations/lib.rs.html#2-57" title="goto source code">[src]</a></span></h1><div class="docblock"><p>Provides functions for maintaining database schema.</p>
<p>A database migration always provides procedures to update the schema, as well as to revert
itself. Diesel's migrations are versioned, and run in order. Diesel also takes care of tracking
which migrations have already been run automatically. Your migrations don't need to be
idempotent, as Diesel will ensure no migration is run twice unless it has been reverted.</p>
<p>Migrations should be placed in a <code>/migrations</code> directory at the root of your project (the same
directory as <code>Cargo.toml</code>). When any of these functions are run, Diesel will search for the
migrations directory in the current directory and its parents, stopping when it finds the
directory containing <code>Cargo.toml</code>.</p>
<p>Individual migrations should be a folder containing two files, <code>up.sql</code> and <code>down.sql</code>.
<code>up.sql</code> will be used to run the migration, while <code>down.sql</code> will be used for reverting it. The
folder itself should have the structure <code>{version}_{migration_name}</code>. It is recommended that
you use the timestamp of creation for the version.</p>
<p>Migrations can either be run with the CLI or embedded into the compiled application
and executed with code, for example right after establishing a database connection.
For more information, consult the <a href="macro.embed_migrations.html"><code>embed_migrations!</code></a> macro.</p>
</div><h2 id="macros" class="section-header"><a href="#macros">Macros</a></h2>
<table><tr class="module-item"><td><a class="macro" href="macro.embed_migrations.html" title="diesel_migrations::embed_migrations macro">embed_migrations</a></td><td class="docblock-short"><p>This macro will read your migrations at compile time, and create a constant value containing
an embedded list of all your migrations as available at compile time.
This is useful if you would like to use Diesel's migration infrastructure, but want to ship a single executable
file (such as for embedded applications). It can also be used to apply migrations to an in
memory database (Diesel does this for its own test suite).</p>
</td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.EmbeddedMigrations.html" title="diesel_migrations::EmbeddedMigrations struct">EmbeddedMigrations</a></td><td class="docblock-short"><p>A migration source that embeds migrations into the final binary</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.FileBasedMigrations.html" title="diesel_migrations::FileBasedMigrations struct">FileBasedMigrations</a></td><td class="docblock-short"><p>A migration source based on a migration directory in the file system</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.HarnessWithOutput.html" title="diesel_migrations::HarnessWithOutput struct">HarnessWithOutput</a></td><td class="docblock-short"><p>A migration harness that writes messages
into some output for each applied/reverted migration</p>
</td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.MigrationHarness.html" title="diesel_migrations::MigrationHarness trait">MigrationHarness</a></td><td class="docblock-short"><p>A migration harness is an entity which applies migration to an existing database</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="diesel_migrations"></div>
    <script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>